{% extends 'layout.html' %}

{% block content %}
  <p>{{ text }}</p>

  <!-- escaping -->
  <h3>Auto Escape (HTML)</h3>
  <p>{{ unsafe_string }}</p>

  <!-- escaping JS -->
  <h3>Auto Escape (JS)</h3>
  <p>{{ unsafe_string|e('js') }}</p>

  <!-- raw content (block style) -->
  {% verbatim %}
    <h3>Raw</h3>
    <p>{{ unsafe_string }}</p>
  {% endverbatim %}

  <!-- loop -->
  <h3>Loop</h3>
  <ul>
  {% for user in users %}
    <li><a href="mailto:{{ user.email }}">{{ user.name }}</a></li>
  {% endfor %}
  </ul>

  <h3>Autoloaded Subscriber</h3>
  <p>{{ subscriber }}</p>

  <h3>Test Option</h3>
  <p>{{ option }}</p>

  <!-- Notice -->
  <h3>Notices</h3>
  <p><a href="javascript:;" onclick="MailPoet.Notice.success('Test');">Trigger success</a></p>
  <p><a href="javascript:;" onclick="MailPoet.Notice.error('Test');">Trigger error</a></p>
  <p><a href="javascript:;" onclick="MailPoet.Notice.system('Test');">Trigger warning</a></p>

  <!-- Modal -->
  <h3>Modals</h3>
  <p><a href="javascript:;" id="modal_popup">Popup</a></p>
  <p><a href="javascript:;" id="modal_panel">Panel</a></p>

  <script type="text/javascript">
    jQuery(function($) {
      $(function() {
        $('#modal_popup').on('click', function() {
          MailPoet.Modal.popup({
            title: "Testing <strong>1 2...</strong>",
            template: "<h3>Hello World!</h3>"
          });
        });
        $('#modal_panel').on('click', function() {
          MailPoet.Modal.panel({
            title: "Testing 1 2...",
            template: "<h3>Hello World!</h3>",
            width: "40%",
            overlay: true
          });
        });
      });
    });
  </script>

{% endblock %}
